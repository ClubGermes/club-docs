# ü§ù –†–∞–∑–¥–µ–ª ¬´–í—Å—Ç—Ä–µ—á–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã¬ª (Meetings)

**–§–∞–π–ª:** `src/views/Meetings/Meetings.svelte`
**–ú–∞—Ä—à—Ä—É—Ç:** `/meetings`

–ï–¥–∏–Ω—ã–π —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π —Ä–µ–∑–∏–¥–µ–Ω—Ç–∞: –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ–Ω–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∞–º–∏, –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ –æ–±—â–µ–Ω–∏–µ –∏ –∞—Ä—Ö–∏–≤–æ–º –ø—Ä–æ—à–µ–¥—à–∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.

| –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏ | –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ |
|---|---|
| ![Scheduled Meetings](meetings-scheduled.png) { width="300" } | ![Requested Meetings](meetings-requested.png) { width="300" } |

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–≠–∫—Ä–∞–Ω –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–∫–ª–∞–¥–æ–∫-—Ñ–∏–ª—å—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

#### A. –í–∫–ª–∞–¥–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (Tabs)
–ü–∞–Ω–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–∞–∫ –≥—Ä—É–ø–ø–∞ –∫–Ω–æ–ø–æ–∫ (`src/views/Meetings/Meetings.svelte`, —Å—Ç—Ä–æ–∫–∏ 282-321):

1.  **–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ** (–∞–∫—Ç–∏–≤–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    *   –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –≤—Å—Ç—Ä–µ—á.
    *   *–õ–æ–≥–∏–∫–∞:* `!archive && !requests`.
    *   *–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:* `meetingsFiltered`, `meetingsOfflineFiltered`, `meetingsOnlineFiltered`.

2.  **–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ**
    *   –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∏ –∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ–Ω–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∏, –æ–∂–∏–¥–∞—é—â–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
    *   *–õ–æ–≥–∏–∫–∞:* `requests = true`.
    *   *–ò–Ω–¥–∏–∫–∞—Ü–∏—è:* –ë–µ–π–¥–∂ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–∞–Ω–Ω—ã–µ –∏–∑ —Å—Ç–æ—Ä–∞ `bindings`).
    *   *–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:* `meetingsRequestsFiltered`.

3.  **–ê—Ä—Ö–∏–≤**
    *   –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—à–µ–¥—à–∏—Ö –≤—Å—Ç—Ä–µ—á –∏ –æ–±–º–µ–Ω–æ–≤ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏.
    *   *–õ–æ–≥–∏–∫–∞:* `archive = true`.
    *   *–§—É–Ω–∫—Ü–∏–∏:* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–∏—Ç—å –ø—Ä–æ—à–µ–¥—à—É—é –≤—Å—Ç—Ä–µ—á—É (–†–µ–π—Ç–∏–Ω–≥ / –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π).
    *   *–ò–Ω–¥–∏–∫–∞—Ü–∏—è:* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö / –í—Å–µ–≥–æ).

#### B. –°–ø–∏—Å–æ–∫ –≤—Å—Ç—Ä–µ—á
–û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ö–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ –∏ —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏.

**–¢–∏–ø—ã –∫–∞—Ä—Ç–æ—á–µ–∫:**
*   **EventCard:** –í—Å—Ç—Ä–µ—á–∏, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ —Ä–∞–º–∫–∞—Ö –æ—Ñ–ª–∞–π–Ω-–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π.
    *   *–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:* `src/views/Meetings/components/EventCard/index.svelte`.
*   **OnlineCard:** –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–Ω–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∏.
    *   *–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:* `src/views/Meetings/components/OnlineCard/index.svelte`.
*   **OfflineCard:** –§–∞–∫—Ç –æ–±–º–µ–Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ (—Ü–∏—Ñ—Ä–æ–≤–∞—è –≤–∏–∑–∏—Ç–∫–∞).
    *   *–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:* `src/views/Meetings/components/OfflineCard/index.svelte`.
*   **RequestCard:** –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –≤—Å—Ç—Ä–µ—á—É (–≤ —Ç–∞–±–µ "–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ").
    *   *–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:* `src/views/Meetings/components/RequestCard/index.svelte`.

#### C. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–¥–ª—è –ê—Ä—Ö–∏–≤–∞)
–í —Ä–µ–∂–∏–º–µ "–ê—Ä—Ö–∏–≤" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
*   **"–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –±–µ–∑ –æ—Ü–µ–Ω–∫–∏"**: –ü–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –≤—Å—Ç—Ä–µ—á–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏.

---

### 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### Data Flow
–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∞–≥—Ä–µ–≥–∏—Ä—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ä–∞–∑—É –≤—Å–µ —Ç–∏–ø—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

*   **Query:** `userEventsConnectionsAll` (`src/queries/user.ts`).
*   **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
    *   `archive`: boolean (—Ñ–ª–∞–≥ –∞—Ä—Ö–∏–≤–∞)
    *   `requests`: boolean (—Ñ–ª–∞–≥ –∑–∞–ø—Ä–æ—Å–æ–≤)
    *   `dt`: —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ (–¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ—à–µ–¥—à–∏—Ö/–±—É–¥—É—â–∏—Ö).
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞:** –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –º–∞—Å—Å–∏–≤—ã `meetings` (—Å–æ–±—ã—Ç–∏—è), `meetingsOffline` (–æ–±–º–µ–Ω –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏), `meetingsOnline` (–æ–Ω–ª–∞–π–Ω) –∏ `meetingsRequests` (–∑–∞–ø—Ä–æ—Å—ã).

#### –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (`parseData`)
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–∞–±–æ–≤ "–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ/–ê—Ä—Ö–∏–≤", –Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ "–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ" –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö.

```typescript
// –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –∞—Ä—Ö–∏–≤–∞
const users = list[i].users.filter(u => {
    if (archive) {
        // –í –∞—Ä—Ö–∏–≤ –ø–æ–ø–∞–¥–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–≤—à–∏–µ—Å—è –≤—Å—Ç—Ä–µ—á–∏ (state == true)
        if (u.connection.state) { ... }
    } else {
        // –í –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –Ω–µ—Å–æ—Å—Ç–æ—è–≤—à–∏–µ—Å—è (–ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ)
        if (!u.connection.state) { ... }
    }
});
```

#### –û—Ü–µ–Ω–∫–∞ –≤—Å—Ç—Ä–µ—á (Feedback Loop)
–î–ª—è –ø—Ä–æ—à–µ–¥—à–∏—Ö –≤—Å—Ç—Ä–µ—á —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏:
1.  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–û—Ü–µ–Ω–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É".
2.  –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ `ModalConfirmation`.
3.  –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å `eventConnectionMark` / `offlineConnectionMark` / `onlineConnectionMark` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏.

---

### 3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ UX

1.  **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ó–ù–ê–ö–û–ú–´":**
    *   –ù–∞ –∞–≤–∞—Ç–∞—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ–π–¥–∂ "–ó–ù–ê–ö–û–ú–´", –µ—Å–ª–∏ —Å —ç—Ç–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º —É–∂–µ –±—ã–ª –∫–æ–Ω—Ç–∞–∫—Ç –∏–ª–∏ –≤—Å—Ç—Ä–µ—á–∞ —Ä–∞–Ω–µ–µ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä `meetings`).
2.  **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º:**
    *   –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –æ–Ω–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∏ (`userMeetingRequestConfirmation`) —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã –≤—Ä–µ–º–µ–Ω–∏.
3.  **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:**
    *   –ö–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á –∏–º–µ—é—Ç —Ü–≤–µ—Ç–æ–≤—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é —Å—Ç–∞—Ç—É—Å–∞ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ / –æ–∂–∏–¥–∞–Ω–∏–µ / –æ—Ç–∫–∞–∑), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —á–µ—Ä–µ–∑ CSS –∫–ª–∞—Å—Å—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö `ResidentCard*`.

---

### 4. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–∑–¥–µ–ª–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **ResidentCard** | –ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤—Å—Ç—Ä–µ—á–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `EventCard`. –°–æ–¥–µ—Ä–∂–∏—Ç –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–ø—Ä–∏–Ω—è—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å). |
| **RequestCard** | –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–ø—Ä–æ—Å–∞. –°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Å–ª–æ—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∏. |
| **ModalConfirmation** | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π (–æ—Ü–µ–Ω–∫–∞, –æ—Ç–º–µ–Ω–∞ –≤—Å—Ç—Ä–µ—á–∏). |
| **OnlineCard** | –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–π –æ–Ω–ª–∞–π–Ω-–≤—Å—Ç—Ä–µ—á–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –∑–≤–æ–Ω–æ–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å). |
