# Функциональные возможности (Mobile)

Детальный разбор ключевых экранов и функций мобильного приложения для резидентов.

## 1. Экран «Монитор» (Home)
**Файл:** `src/views/Home/Home.svelte`

Главный экран приложения, агрегирующий всю активность пользователя и предоставляющий быстрый доступ к ключевым разделам.

![Home Screen](home.png) { width="300" }

### Блоки интерфейса

1.  **Карусель Событий (Events)**
    *   Отображает карточки ближайших мероприятий (`EventCard`).
    *   Данные: `eventsFeed` (`src/queries/event.ts`).
    *   На карточке: Дата (число/месяц), иконка формата (онлайн/офлайн), название.

2.  **Опросы и Анкеты (Polls)**
    *   Визуализация: Вертикальный список чекбоксов для сбора обратной связи или предпочтений резидента.
    *   **Компонент:** `PollCard` (`src/components/PollCard/index.svelte`).
    *   **Логика:** Загружаются через `getRatingPolls`. Отправка ответа вызывает `addVote` (`src/queries/poll.ts`).

3.  **Избранные контакты**
    *   Горизонтальный скролл аватаров пользователей, добавленных в "Избранное".
    *   Кнопка **"Все контакты"** открывает модальное окно с полным списком.
    ![Contacts List](home-contacts-list-popup.png) { width="250" }

4.  **Потенциальные партнёры (AI Matching)**
    *   Рекомендации, сгенерированные алгоритмом на бэкенде на основе пересечения тегов (спрос/предложение).
    ![Partners List](home-partners-list-popup.png) { width="250" }

---

## 2. Центр Уведомлений (Log)
**Файл:** `src/layouts/Main/components/Log/index.svelte`

Централизованная лента событий, требующих внимания пользователя.

![Notifications Log](home-notifications-log.png) { width="300" }

### Типы уведомлений
Компонент обрабатывает различные типы событий (`n.event`) и рендерит соответствующий UI:

*   **Прибытие (`arrive`):** "Имя Фамилия прибыл на мероприятие...".
*   **Предложение встречи (`manager_connection_add`):** Кнопки **"Согласиться"** (зеленая) и **"Отклонить"** (красная). Вызывает `eventConnectionResponse`.
*   **Ответ на предложение (`manager_connection_response`):** Статус принятия или отказа.
*   **Онлайн-встречи (`online_request`, `online_confirmation`):** Логика согласования встреч вне мероприятий.

---

## 3. Профиль пользователя (Settings/Me)
**Файл:** `src/views/Settings/Settings.svelte`

Экран редактирования личной информации и анкеты резидента.

### Структура формы
1.  **Личные данные:** Аватар (`UploadAvatar`), ФИО, Должность, Компания. Редактирование контактов требует верификации кода.
2.  **Бизнес-метрики:** Годовой оборот, количество сотрудников, стаж.
3.  **Тегирование (Tagging System):** Специализация, потребности, личная экспертиза и хобби. Работает через автокомплит со справочником `tagList`.
4.  **Действия:** Выход из аккаунта и удаление профиля (с периодом восстановления 2 недели).

---

## 4. QR Сканер
**Файл:** `src/views/Home/components/ScannerButton/index.svelte`

Инструмент для быстрого взаимодействия с физическим миром Клуба.

![Scanner Button](home-scanner-button.png) { width="150" }

*   **Библиотека:** `@capacitor-mlkit/barcode-scanning`.
*   **Permissions:** Запрашивает доступ к камере при первом использовании.
    ![Camera Permission](home-camera-permission-prompt.png) { width="250" }
*   **Обработка:**
    *   `type: 'user'` -> переход в профиль резидента.
    *   `type: 'event'` -> мгновенная регистрация на мероприятие.
